**Анонимные функции** (также иногда называют лямбдами) - это функции, которым не назначено имя. Они отличаются от обычных функций также тем, что они могут определяться внутри других функций и также могут иметь доступ к контексту выполнения.

Анонимные функции позволяют нам определить некоторое действие непосредственно там, где оно применяется. Например, нам надо выполнить сложение двух чисел, но больше нигде это действие в программе не нужно:

```go
package main 
import "fmt"
 
func main() {
    f := func(x, y int) int{ return x + y}
    fmt.Println(f(3, 4))        // 7
    fmt.Println(f(6, 7))        // 13
}
```

Фактически переменная f определена как:

```go
var f func(int, int) int = func(x, y int) int{ return x + y}
```

То есть переменной f можно присвоить любую функцию, которая соответствует типу `func(int, int) int`.

## Анонимная функция как аргумент функции

Очень удобно использовать анонимные функции в качестве аргументов других функций:

```go
package main 
import "fmt"
 
func action(n1 int, n2 int, operation func(int, int) int){
    result := operation(n1, n2)
    fmt.Println(result)
}
func main() {
     
    action(10, 25, func (x int, y int) int { return x + y })    // 35
    action(5, 6, func (x int, y int) int { return x * y })      // 30
}
```

## Анонимная функция как результат функции

```go
package main
import "fmt"
 
func selectFn(n int) (func(int, int) int){
    if n==1 {
        return func(x int, y int) int{ return x + y}
    }else if n==2{
        return func(x int, y int) int{ return x - y}
    }else{
        return func(x int, y int) int{ return x * y}
    }
}
 
func main() {
    f := selectFn(1)
    fmt.Println(f(2, 3))        // 5
    fmt.Println(f(4, 5))        // 9
    fmt.Println(f(7, 6))        // 13
}
```

Здесь в зависимости от переданного числа в функцию selectFn возвращаем из нее ту или иную анонимную функцию. Но стоит отметить, что все возвращаемые функции соответствуют одному типу, который указан для selectFn в качестве возвращаемого.

```go
func selectFn(n int) (func(int, int) int){
    if n==1 {
        return func(x int, y int) int{ return x + y}
```

В функции main получаем соответствующую функцию в переменную f:

```go
f := selectFn(1)
```

Затем вызываем полученную анонимную функцию, передавая ей аргументы:

```go
fmt.Println(f(2, 3))        // 5
```


Анонимные функции могут быть также присвоены переменной, переданы в другие функции или даже вызваны прямо на месте. Вот пример использования анонимных функций в разных ситуациях:

```go
func ExampleUseNoNameFunction() {
	// Присваиваем переменной fn анонимную функцию
	fn := func(a, b int) int { return a + b }

	// Выполняем анонимную функцию прямо на месте
	func(a, b int) {
		fmt.Println(a + b)
	}(12, 34) // Вызов анонимной функции

	// Выполняем функцию, присвоенную переменной fn
	fmt.Println(fn(17, 15))

	// Output:
	// 46
	// 32
}
```

[[3. Функции Go]]
#go 
